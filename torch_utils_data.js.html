<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: torch/utils/data.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: torch/utils/data.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>class _BaseDataLoaderIter {
  constructor(dataloader) {
    this.dataset = dataloader.dataset;
    this.batchSize = dataloader.batchSize;
    this.samples = dataloader.dataset.samples;
  }
}

class _SingleProcessDataloaderIter extends _BaseDataLoaderIter {
  constructor(dataloader) {
    super(dataloader);
    this.index = 0;
  }

  nextData = () => {
    const { startIndex, endIndex } = this._nextIndex();
    const data = this._fetch(startIndex, endIndex);
    return data;
  };

  hasNext = () => {
    return this.index &lt; this.samples.length;
  };

  _fetch = (startIndex, endIndex) => {
    const targets = this.samples.slice(startIndex, endIndex);
    const data = [];
    let i = 0;
    while (i &lt; targets.length) {
      data.push(this.dataset.getItem(i));
      i += 1;
    }
    return data;
  };

  _nextIndex = () => {
    const { index, batchSize } = this;
    this.index += batchSize;
    return { startIndex: index, endIndex: this.index };
  };
}

/**
 * A barebones representation of a Dataset
 */
export class Dataset {
  /**
   * Create a new Dataset object
   */
  constructor() {
    if (new.target === Dataset) {
      throw new Error("The abstract Dataset class may not be instantiated");
    }
  }

  /**
   * Fetch an item at a given index
   * @param {Number} index - Index to fetch an item at
   * @returns {Object} - Representation of item fetched
   */
  // eslint-disable-next-line
  getItem = (index) => {
    throw new Error("Function not implemented!");
  };
}

/**
 * Load your datasets at a given rate in order to perform effective inference
 */
export class DataLoader {
  /**
   * Create a new DataLoader object
   * @param {Dataset} dataset - Target Dataset object
   * @param {Number} [1] batchSize - Batch size to load datapoints in
   * @param {Transform} [null] transform - Function/Transform to be applied to the loaded data. If a transform is passed here, the transform associated with the Dataset is overriden.
   */
  constructor(dataset, batchSize = 1, transform = null) {
    this.dataset = dataset;
    if (transform !== null) {
      this.dataset.transform = transform;
    }
    this.batchSize = batchSize;
  }

  /**
   * Fetch an iterator over the dataset
   * @returns {Iterable} - An iterable object that can be used to map over the given Dataset
   */
  getIterator = () => {
    return new _SingleProcessDataloaderIter(this);
  };
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-load.html">load</a></li><li><a href="module-utilities.html">utilities</a></li><li><a href="ptjs.module_torch.html">torch</a></li><li><a href="ptjs.module_torchvision.html">torchvision</a></li><li><a href="torch.module_utils.html">utils</a></li><li><a href="torch.utils.module_data.html">data</a></li><li><a href="torchvision.module_datasets.html">datasets</a></li><li><a href="torchvision.module_transforms.html">transforms</a></li></ul><h3>Classes</h3><ul><li><a href="Compose.html">Compose</a></li><li><a href="DataLoader.html">DataLoader</a></li><li><a href="Dataset.html">Dataset</a></li><li><a href="DatasetFolder.html">DatasetFolder</a></li><li><a href="DefaultTransform.html">DefaultTransform</a></li><li><a href="Grayscale.html">Grayscale</a></li><li><a href="ImageFolder.html">ImageFolder</a></li><li><a href="InvertAxes.html">InvertAxes</a></li><li><a href="Model.html">Model</a></li><li><a href="Resize.html">Resize</a></li><li><a href="VisionDataset.html">VisionDataset</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ptjs">ptjs</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sun Nov 01 2020 16:22:00 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
